<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Five Queens Jewelry â€” Login / Register</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<div class="auth-container">
  <h2 id="form-title">Login</h2>
  <input type="email" id="email" placeholder="Email" required>
  <input type="password" id="password" placeholder="Password" required>
  <button id="auth-btn">Login</button>
  <p id="toggle-text">Don't have an account? <a id="toggle-link">Register</a></p>
</div>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/supabase.min.js"></script>
<script src="supabase.js"></script>
<script>
let isLogin = true;

const formTitle = document.getElementById('form-title');
const authBtn = document.getElementById('auth-btn');
const toggleLink = document.getElementById('toggle-link');

toggleLink.addEventListener('click', () => {
  isLogin = !isLogin;
  formTitle.textContent = isLogin ? 'Login' : 'Register';
  authBtn.textContent = isLogin ? 'Login' : 'Register';
  toggleLink.textContent = isLogin ? 'Register' : 'Login';
});

authBtn.addEventListener('click', async () => {
  const email = document.getElementById('email').value;
  const password = document.getElementById('password').value;
  if (!email || !password) { alert('Fill all fields'); return; }

  if (isLogin) {
    const { data, error } = await supabase.auth.signInWithPassword({ email, password });
    if (error) { alert(error.message); return; }
    alert('Logged in successfully!');
    window.location.href = 'index.html';
  } else {
    const { data, error } = await supabase.auth.signUp({ email, password });
    if (error) { alert(error.message); return; }
    alert('Registration successful! Please check your email to confirm.');
  }
});
</script>
</body>
</html>
